# ========== Dubbo 核心配置 ==========
dubbo:
  application:
    # 应用名称（用于服务注册）
    name: demo-dubbo-consumer
    # QOS 是 Dubbo 内置的运维和管理服务，提供以下能力：
    # - 在线运维命令：通过 Telnet 或 HTTP 执行命令（如查看服务状态、动态修改配置）。
    # - 服务查询：列出所有提供的服务、消费者信息、接口详情等。
    # - 流量管理：限流、熔断等操作的入口（部分高级功能需配合其他配置）。
    # - 健康检查：监控服务提供者的健康状态。
    qos-port: 20001
    qos-host: 192.168.3.2
  consumer:
    # 启动时不检查服务提供者
    check: false
    # 订阅的服务分组
    group: test
    # 订阅的服务版本
    version: v
  registry:
    #  # 注册中心地址（Zookeeper）
    #    address: zookeeper://192.168.3.102:2181
    # 可选：Nacos 注册中心（已注释）
    address: nacos://192.168.3.102:8848
    username: nacos
    password: nacos

  protocol:
    # 协议名称
    name: dubbo
    # 协议端口（未配置则使用随机端口）
    port: 20000
    # serialization: hessian2  # 序列化方式（已注释）
    host: 192.168.3.2

    #  consumer:
    #    group: g       # 订阅的服务分组
    #    version: 1.0   # 订阅的服务版本
    # mock: true   # 启用本地mock（已注释）
    # timeout: 5000 # 全局调用超时时间（可选）
    # check: false # 启动时不检查服务可用性（可选）

  # 监控中心配置（已注释）
  # monitor:
  #   protocol: registry  # 从注册中心发现监控中心
  #   address: http://127.0.0.1:20000  # 监控中心地址

  # 高级特性（已注释）
  # provider:
  #   mock: false  # 提供者端mock配置

# ========== Curator Zookeeper 客户端配置 ==========
curator:
  enable: true                # 启用Curator客户端
  retry-count: 4              # 最大重试次数
  elapsed-time-ms: 500        # 重试间隔时间(ms)
  session-timeout-ms: 60000   # 会话超时时间(ms)
  connection-timeout-ms: 10000 # 连接超时时间(ms)
  connect-string: 192.168.3.102:2181  # Zookeeper连接地址

# ========== 配置说明 ==========
# 1. 服务分组与版本控制：
#    - group/version 用于区分不同环境/版本的服务
#    - 生产环境建议使用明确的版本号（如1.0.0）
#
# 2. 监控中心建议：
#    - 生产环境推荐使用专业的APM系统（如SkyWalking、Pinpoint）
#    - 如需使用Dubbo监控中心，建议单独部署
#
# 3. 生产环境增强配置：
#    - 添加服务引用超时控制：
#      dubbo.consumer.timeout: 3000
#    - 启用参数验证：
#      dubbo.consumer.validation: true
#    - 配置负载均衡策略：
#      dubbo.consumer.loadbalance: roundrobin